-- Membuat table kategori
CREATE TABLE "kategori" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "kategori" varchar,
  "deskripsi" varchar
);

-- membuat table barang
CREATE TABLE "barang" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "nama_barang" varchar,
  "harga" int,
  "deskripsi" varchar,
  "stok" int,
  "id_kategori" INT,
  "created_at" timestamp DEFAULT 'now()'
);

-- membuat foreign key dan relasi untuk table kategori dan barang
ALTER TABLE "barang" ADD FOREIGN KEY ("id_kategori") REFERENCES "kategori" ("id");

-- memasukan value ke table kategori
INSERT INTO kategori(kategori, deskripsi)
	VALUES
		('miniatur hewan', 'miniatur lucu untuk anak-anak'),
		('pistol mainan', 'mirip pistol asli, cocok untuk mengancam orang'),
		('mobil-mobilan', 'Kalian tidak mampu beli mobil impian? beli mobil mainan ini aja wkwk canda');
		
SELECT* FROM kategori;

-- memasukan value ke table barang
INSERT INTO barang(nama_barang, harga, deskripsi, stok, id_kategori)
	VALUES
		('miniatur dinosaurus', 200000, 'mirip punya zee jekeit forti eg', 12, 1),
		('Toyota Race Supra', 420000, 'Bukan supra bapak', 17, 3),
		('Glock Bareta PUBG 729', 300000, 'mirip aslinya, tapi bentuknya aja yang mirip', 4, 2);
		
SELECT* FROM barang;

-- Aku tambahin updatenya kapan
ALTER TABLE barang
	ADD COLUMN updated_at TIMESTAMP DEFAULT now();

-- Select value dari table barang
SELECT* FROM barang;
SELECT nama_barang, harga FROM barang;

-- Select value dari table kategori
SELECT kategori, deskripsi FROM kategori;

-- update isi value dari table kategori
UPDATE kategori
	SET deskripsi = 'Bentuknya mirip dengan pistol asli, jangan dipakai buat begal'
	WHERE kategori = 'pistol mainan';

-- update isi value dari table kategori
UPDATE barang
	SET nama_barang = 'M4 no recoil'
	WHERE nama_barang = 'Glock Bareta PUBG 729';

-- cek apakah berhasil update 
SELECT* FROM kategori;
SELECT* FROM barang;	